import { useEffect, useState } from "react";

export const ThemeSwapper = () => {
  const [theme, setTheme] = useState<"dark" | "light">("dark");

  useEffect(() => {
    const html = document.querySelector("html");

    if (theme === "dark") {
      return html?.classList.add("dark");
    }
    if (theme === "light") {
      return html?.classList.remove("dark");
    }
  }, [theme]);

  const Moon = () => (
    <svg
      onClick={() => setTheme("light")}
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 24 24"
    >
      <g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
        <path d="M11.017 2.802A9.25 9.25 0 0 0 2.75 12c0 1.145.208 2.24.587 3.25h9.512a7.253 7.253 0 0 1-1.832-12.448Zm7.134 12.448h2.512a9.19 9.19 0 0 0 .535-2.268a7.27 7.27 0 0 1-3.047 2.268Zm4.087.038c.332-1.037.512-2.142.512-3.288c0-.717-.571-1.075-1.026-1.137c-.438-.059-.995.103-1.299.606a5.75 5.75 0 1 1-7.894-7.894c.503-.304.665-.861.606-1.299c-.062-.455-.42-1.026-1.137-1.026C6.063 1.25 1.25 6.063 1.25 12c0 1.146.18 2.251.512 3.288A.75.75 0 0 0 2 16.75h20a.75.75 0 0 0 .238-1.462ZM4.25 19a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Zm3 3a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75Z" />
        <path d="M20.366 2.124c-.328-.832-1.504-.832-1.83 0l-.429 1.09l-1.084.429c-.83.328-.83 1.504 0 1.832l1.084.43l.428 1.089c.327.832 1.503.832 1.83 0l.429-1.09l1.084-.429c.83-.328.83-1.504 0-1.832l-1.084-.43l-.428-1.089Zm-.916.406l.415 1.055c.1.254.3.455.554.556l1.057.418l-1.057.419a.984.984 0 0 0-.554.555l-.415 1.055l-.414-1.055a.984.984 0 0 0-.554-.555l-1.057-.419l1.057-.418a.984.984 0 0 0 .554-.556l.414-1.055Zm-2.952 5.417c-.327-.833-1.503-.833-1.83 0l-.155.393l-.39.155c-.83.328-.83 1.504 0 1.833l.39.154l.155.394c.327.832 1.503.832 1.83 0l.155-.394l.39-.154c.83-.329.83-1.505 0-1.833l-.39-.155l-.155-.393Zm-.915.405l.141.36c.1.253.3.455.554.555l.364.144l-.364.144a.984.984 0 0 0-.554.556l-.141.36l-.141-.36a.984.984 0 0 0-.554-.556l-.364-.144l.364-.144a.984.984 0 0 0 .554-.555l.141-.36Z" />
      </g>
    </svg>
  );

  const Sun = () => (
    <svg
      onClick={() => setTheme("dark")}
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 256 256"
    >
      <g fill="currentColor">
        <path d="M184 128a56 56 0 1 1-56-56a56 56 0 0 1 56 56Z" opacity=".2" />
        <path d="M120 40V16a8 8 0 0 1 16 0v24a8 8 0 0 1-16 0Zm72 88a64 64 0 1 1-64-64a64.07 64.07 0 0 1 64 64Zm-16 0a48 48 0 1 0-48 48a48.05 48.05 0 0 0 48-48ZM58.34 69.66a8 8 0 0 0 11.32-11.32l-16-16a8 8 0 0 0-11.32 11.32Zm0 116.68l-16 16a8 8 0 0 0 11.32 11.32l16-16a8 8 0 0 0-11.32-11.32ZM192 72a8 8 0 0 0 5.66-2.34l16-16a8 8 0 0 0-11.32-11.32l-16 16A8 8 0 0 0 192 72Zm5.66 114.34a8 8 0 0 0-11.32 11.32l16 16a8 8 0 0 0 11.32-11.32ZM48 128a8 8 0 0 0-8-8H16a8 8 0 0 0 0 16h24a8 8 0 0 0 8-8Zm80 80a8 8 0 0 0-8 8v24a8 8 0 0 0 16 0v-24a8 8 0 0 0-8-8Zm112-88h-24a8 8 0 0 0 0 16h24a8 8 0 0 0 0-16Z" />
      </g>
    </svg>
  );

  return (
    <div className="absolute top-5 right-5">
      {theme === "dark" ? <Moon /> : <Sun />}
    </div>
  );
};
